var privateListNodeData;class ListNode{static[Symbol.hasInstance](instance){try{instance.#data}catch(error){return!1}return!0}#data;value;[Symbol.toStringTag]=this.constructor.name;constructor(value,node,append=!1){let targetNodeData,targetListData=null;if(node!==void 0){try{targetNodeData=node.#data}catch(error){throw new TypeError(`node argument (${Object.prototype.toString.call(node)}) is not a ListNode instance`)}if(targetListData=targetNodeData.listData,targetListData!==null&&targetListData.length>=List.maxLength)throw new RangeError(`node.list().length() (${targetListData.length}) would exceed List.maxLength (16777216)`)}let currentNodeData=privateListNodeData=this.#data={node:this,listData:targetListData,previous:null,next:null};if(this.value=value,!targetNodeData)return;if(!targetListData)new List,targetNodeData.listData=targetListData=privateListData,targetListData.first=targetListData.last=targetNodeData,targetListData.length=2,currentNodeData.listData=targetListData;else targetListData.length++;if(!!append===!0){if(targetNodeData.next)targetNodeData.next.previous=currentNodeData,currentNodeData.next=targetNodeData.next;else targetListData.last=currentNodeData;currentNodeData.previous=targetNodeData,targetNodeData.next=currentNodeData}else{if(targetNodeData.previous)targetNodeData.previous.next=currentNodeData,currentNodeData.previous=targetNodeData.previous;else targetListData.first=currentNodeData;currentNodeData.next=targetNodeData,targetNodeData.previous=currentNodeData}}get list(){try{return this.#data.listData===null?null:this.#data.listData.list}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}}get previous(){try{return this.#data.previous===null?null:this.#data.previous.node}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}}get next(){try{return this.#data.next===null?null:this.#data.next.node}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}}prependTo(node){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}try{node.#data}catch(error){throw new TypeError(`node argument (${Object.prototype.toString.call(node)}) is not a ListNode instance`)}let currentNodeData=this.#data,targetNodeData=node.#data,targetListData=targetNodeData.listData;if(targetListData){if(targetListData.length>=List.maxLength)throw new RangeError(`node.list().length() (${targetListData.length}) would exceed List.maxLength (16777216)`);if(currentNodeData===targetNodeData.previous)return this;targetListData.length++}else new List,targetNodeData.listData=targetListData=privateListData,targetListData.first=targetNodeData,targetListData.last=targetNodeData,targetListData.length=1;let currentListData=currentNodeData.listData;if(currentListData){if(currentNodeData.previous)currentNodeData.previous.next=currentNodeData.next;else currentListData.first=currentNodeData.next;if(currentNodeData.next)currentNodeData.next.previous=currentNodeData.previous;else currentListData.last=currentNodeData.previous;currentListData.length--}if(currentNodeData.listData=targetListData,targetNodeData.previous)targetNodeData.previous.next=currentNodeData,currentNodeData.previous=targetNodeData.previous;else targetListData.first=currentNodeData;return currentNodeData.next=targetNodeData,targetNodeData.previous=currentNodeData,this}appendTo(node){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}let currentNodeData=this.#data;try{node.#data}catch(error){throw new TypeError(`node argument (${Object.prototype.toString.call(node)}) is not a ListNode instance`)}let targetNodeData=node.#data,targetListData=targetNodeData.listData;if(targetListData){if(targetListData.length>=List.maxLength)throw new RangeError(`node.list().length() (${targetListData.length}) would exceed List.maxLength (16777216)`);if(currentNodeData===targetNodeData.next)return this;targetListData.length++}else new List,targetNodeData.listData=targetListData=privateListData,targetListData.first=targetNodeData,targetListData.last=targetNodeData,targetListData.length=1;let currentListData=this.#data.listData;if(currentListData){if(currentNodeData.previous)currentNodeData.previous.next=currentNodeData.next;else currentListData.first=currentNodeData.next;if(currentNodeData.next)currentNodeData.next.previous=currentNodeData.previous;else currentListData.last=currentNodeData.previous;currentListData.length--}if(currentNodeData.listData=targetListData,targetNodeData.next)targetNodeData.next.previous=currentNodeData,currentNodeData.next=targetNodeData.next;else targetListData.last=currentNodeData;return currentNodeData.previous=targetNodeData,targetNodeData.next=currentNodeData,targetListData.length++,this}insertInto(list,index=0){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}if(!(list instanceof List))throw new TypeError(`list argument (${Object.prototype.toString.call(list)}) is not a List instance`);if(privateListData.length>=List.maxLength)throw new RangeError(`list.length() (${privateListData.length}) + 1 would exceed List.maxLength (16777216)`);if(index>>=0,index<0||index>privateListData.length)throw new RangeError(`index argument (${index}) is not greater than or equal to 0 and less than or equal to list.length() ${privateListData.length}`);let currentNodeData=this.#data,currentListData=currentNodeData.listData;if(currentListData!==null){if(currentNodeData.previous)currentNodeData.previous.next=currentNodeData.next;else currentListData.first=currentNodeData.next;if(currentNodeData.next)currentNodeData.next.previous=currentNodeData.previous;else currentListData.last=currentNodeData.previous;currentListData.length--}let targetNodeData=null,append=!1;if(currentNodeData.listData=privateListData,privateListData.length===0)return privateListData.first=privateListData.last=currentNodeData,privateListData.length=1,this;if(index===0)targetNodeData=privateListData.first;else if(index>=privateListData.length-1){if(targetNodeData=privateListData.last,index===privateListData.length)append=!0}else{let i;if(index<privateListData.length>>>1){targetNodeData=privateListData.first.next,i=1;while(targetNodeData){if(index===i)break;targetNodeData=targetNodeData.next,i++}}else{targetNodeData=privateListData.last.previous,i=privateListData.length-2;while(targetNodeData){if(index===i)break;targetNodeData=targetNodeData.previous,i--}}}if(privateListData.length++,append){if(targetNodeData.next)targetNodeData.next.previous=currentNodeData,currentNodeData.next=targetNodeData.next;else privateListData.last=currentNodeData;currentNodeData.previous=targetNodeData,targetNodeData.next=currentNodeData}else{if(targetNodeData.previous)targetNodeData.previous.next=currentNodeData,currentNodeData.previous=targetNodeData.previous;else privateListData.first=currentNodeData;currentNodeData.next=targetNodeData,targetNodeData.previous=currentNodeData}return this}remove(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a ListNode instance`)}let nodeData=this.#data,listData=nodeData.listData;if(listData){if(nodeData.previous)nodeData.previous.next=nodeData.next;else listData.first=nodeData.next;if(nodeData.next)nodeData.next.previous=nodeData.previous;else listData.last=nodeData.previous;nodeData.previous=null,nodeData.next=null,listData.length--,nodeData.listData=null}return this}}var privateListData;class List{static maxLength=16777216;static from(items,mapFn,self=null){let typeOfItemsSymbolIterator=items?.[Symbol.iterator];if(typeof typeOfItemsSymbolIterator!=="function")throw new TypeError(`items[Symbol.iterator] (${typeOfItemsSymbolIterator}) is not a function`);let typeofMapFn=typeof mapFn;if(mapFn!==void 0&&typeofMapFn!=="function")throw new TypeError(`mapFn argument (${typeofMapFn}) is not a function`);let iterator=items[Symbol.iterator](),result=iterator.next(),list=new List;if(result?.done===!0)return list;if(mapFn===void 0){new ListNode(result?.value),privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData,result=iterator.next();while(result?.done!==!0)new ListNode(result?.value,privateListNodeData.node,!0),result=iterator.next()}else{let i=0;new ListNode(mapFn.call(self,result.value,i)),privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData,result=iterator.next();while(result.done!==!0)new ListNode(mapFn.call(self,result.value,++i),privateListNodeData.node,!0),result=iterator.next()}return list}static async fromAsync(items,mapFn,self=null){let typeOfItemsSymbolAsyncIterator=items?.[Symbol.asyncIterator],symbol;if(typeof typeOfItemsSymbolAsyncIterator!=="function"){let typeOfItemsSymbolIterator=items?.[Symbol.iterator];if(typeof typeOfItemsSymbolIterator!=="function")throw new TypeError(`neither items[Symbol.asyncIterator] (${typeOfItemsSymbolAsyncIterator}) or items[Symbol.iterator] (${typeOfItemsSymbolIterator}) is a function`);symbol=Symbol.iterator}else symbol=Symbol.asyncIterator;let typeofMapFn=typeof mapFn;if(mapFn!==void 0&&typeofMapFn!=="function")throw new TypeError(`mapFn argument (${typeofMapFn}) is not a function`);let iterator=items[symbol](),result=await iterator.next(),list=new List,resolve,promise=new Promise((_resolve)=>resolve=_resolve);if(result.done===!1)if(mapFn===void 0){new ListNode(result.value),privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData,result=await iterator.next();while(result.done!==!0)new ListNode(result.value,privateListNodeData.node,!0),result=await iterator.next()}else{let i=0;new ListNode(mapFn.call(self,result.value,i)),privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData,result=await iterator.next();while(result.done!==!0)new ListNode(mapFn.call(self,result.value,++i),privateListNodeData.node,!0),result=await iterator.next()}return resolve(list),promise}static[Symbol.hasInstance](instance){try{privateListData=instance.#data}catch(error){return!1}return!0}#data;[Symbol.toStringTag]=this.constructor.name;constructor(...values){let listData=privateListData=this.#data={list:this,first:null,last:null,length:0},length=values[0];if(values.length===1&&typeof length==="number"){if(!Number.isInteger(length))throw new RangeError(`length argument (${length}) is not an integer`);else if(length<0)throw new RangeError(`length argument (${length}) is less than 0`);else if(length>List.maxLength)throw new RangeError(`length argument (${length}) is greater than List.maxLength (16777216)`);if(length>0)new ListNode(void 0),privateListNodeData.listData=listData,listData.first=listData.last=privateListNodeData,listData.length=1;for(let i=1;i<length;i++)new ListNode(void 0,privateListNodeData.node,!0)}else{if(values.length>0)new ListNode(values[0]),privateListNodeData.listData=listData,listData.first=listData.last=privateListNodeData,listData.length=1;for(let i=1;i<values.length;i++)new ListNode(values[i],privateListNodeData.node,!0)}}get first(){try{return this.#data.first===null?null:this.#data.first.node}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}}get last(){try{return this.#data.last===null?null:this.#data.last.node}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}}get length(){try{return this.#data.length}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}}at(index=0){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(index>>=0,index<0||index>listData.length-1)return null;let nodeData;if(index===0)nodeData=listData.first;else if(index===listData.length-1)nodeData=listData.last;else{let i;if(index<listData.length>>>1){nodeData=listData.first.next,i=1;while(nodeData){if(index===i)break;nodeData=nodeData.next,i++}}else{nodeData=listData.last.previous,i=listData.length-2;while(nodeData){if(index===i)break;nodeData=nodeData.previous,i--}}}return nodeData.node}unshift(...values){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(listData.length+values.length>List.maxLength)throw new RangeError(`this().length() (${listData.length}) would exceed List.maxLength (16777216)`);if(values.length>0){let i=values.length-1;if(listData.length===0)new ListNode(values[i]),privateListNodeData.listData=listData,listData.first=listData.last=privateListNodeData,listData.length=1,i--;for(i;i>-1;i--)new ListNode(values[i],listData.first.node)}return this.#data.length}push(...values){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(this.#data.length+values.length>List.maxLength)throw new RangeError(`this().length() (${listData.length}) would exceed List.maxLength (16777216)`);if(values.length>0){let i=0;if(listData.length===0)new ListNode(values[i]),privateListNodeData.listData=listData,listData.first=listData.last=privateListNodeData,listData.length=1,i=1;for(i;i<values.length;i++)new ListNode(values[i],this.#data.last.node,!0)}return this.#data.length}insert(index=0,...values){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data,valuesLength=values.length;if(listData.length+valuesLength>List.maxLength)throw new RangeError(`this().length() (${listData.length}) would exceed List.maxLength (16777216)`);if(index>>=0,index<0||index>listData.length)throw new RangeError(`index argument (${index}) is not greater than or equal to 0 and less than or equal to this.length() (${listData.length})`);let nodeData,append=!1,i=valuesLength-1;if(index===0){if(listData.length===0)new ListNode(values[i]),privateListNodeData.listData=listData,listData.first=listData.last=privateListNodeData,listData.length=1,i--;nodeData=listData.first}else if(index>=listData.length-1){if(nodeData=listData.last,index===listData.length)append=!0,i=0}else{let i2;if(index<listData.length>>>1){nodeData=listData.first.next,i2=1;while(nodeData!==null){if(index===i2)break;nodeData=nodeData.next,i2++}}else{nodeData=listData.last.previous,i2=listData.length-2;while(nodeData!==null){if(index===i2)break;nodeData=nodeData.previous,i2--}}}let node=nodeData.node;if(append)for(i;i<valuesLength;i++)node=new ListNode(values[i],node,append);else for(i;i>-1;i--)node=new ListNode(values[i],node);return listData.length}shift(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(!listData.first)return null;else{let nodeData=listData.first;if(nodeData.next)nodeData.next.previous=null,listData.first=nodeData.next;else listData.first=listData.last=null;return listData.length--,nodeData.previous=null,nodeData.next=null,nodeData.listData=null,nodeData.node}}pop(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(!listData.last)return null;else{let nodeData=listData.last;if(nodeData.previous)nodeData.previous.next=null,listData.last=nodeData.previous;else listData.first=listData.last=null;return listData.length--,nodeData.previous=null,nodeData.next=null,nodeData.listData=null,nodeData.node}}remove(index){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(index=Number(index),!Number.isInteger(index))throw new RangeError(`index argument (${index}) is not an integer`);else if(index<0)throw new RangeError(`index argument (${index}) is less than 0`);else if(index>listData.length-1)throw new RangeError(`index argument (${index}) is greater than this.length() - 1`);let nodeData=null;if(index===0)nodeData=listData.first;else if(index===listData.length-1)nodeData=listData.last;else{let forwards,i;if(index<listData.length/2)forwards=!0,nodeData=listData.first.next,i=1;else forwards=!1,nodeData=listData.last.previous,i=listData.length-2;while(nodeData){if(index===i)break;if(forwards)nodeData=nodeData.next,i++;else nodeData=nodeData.previous,i--}}if(nodeData.previous)nodeData.previous.next=nodeData.next;else nodeData.listData.first=nodeData.next;if(nodeData.next)nodeData.next.previous=nodeData.previous;else nodeData.listData.last=nodeData.previous;return nodeData.previous=null,nodeData.next=null,nodeData.listData=null,listData.length--,nodeData.node}clear(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data,nodeData=listData.first;listData.first=null,listData.last=null,listData.length=0;while(nodeData){let next=nodeData.next;nodeData.listData=null,nodeData.previous=null,nodeData.next=null,nodeData=next}return this}splice(start=0,end=0,list,target=0){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(start>>=0,start<0||start>currentListData.length-1)throw new RangeError(`start argument (${start}) is not greater than or equal to 0 and less than this.length() ${currentListData.length}`);if(end>>=0,end<0||end>currentListData.length-1)throw new RangeError(`end argument (${end}) is not greater than or equal to 0 and less than this.length() ${currentListData.length}`);let rangeLength=Math.abs(start-end)+1,targetListData;if(list!==void 0){try{this.#data}catch(error){throw new TypeError(`list argument (${Object.prototype.toString.call(list)}) is not a List instance`)}if(targetListData=list.#data,targetListData.length+rangeLength>List.maxLength)throw new RangeError(`list.length() (${targetListData.length}) would be greater than List.maxLength (16777216)`);let resultLength=currentListData===targetListData?targetListData.length-rangeLength:targetListData.length;if(target>>=0,target<0||target>resultLength)throw new RangeError(`target argument (${target}) is not greater than or equal to 0 and less than or equal to list.length() minus number of nodes to be moved if list === this (${resultLength})`)}else list=new List,targetListData=list.#data;if(end<start){let _end=end;end=start,start=_end}let forwards=start>currentListData.length-end-1?!1:!0,startNodeData=null,endNodeData=null,currentNodeData=null,previous=null,next=null,i;if(forwards){currentNodeData=currentListData.first,i=0;while(currentNodeData){if(i>=start&&i<=end){if(currentNodeData.listData=targetListData,i===start){if(startNodeData=currentNodeData,currentNodeData.previous)previous=currentNodeData.previous;currentNodeData.previous=null}if(i===end){if(endNodeData=currentNodeData,currentNodeData.next)next=currentNodeData.next;currentNodeData.next=null;break}}currentNodeData=currentNodeData.next,i++}}else{currentNodeData=currentListData.last,i=currentListData.length-1;while(currentNodeData){if(i>=start&&i<=end){if(currentNodeData.listData=targetListData,i===end){if(endNodeData=currentNodeData,currentNodeData.next)next=currentNodeData.next;currentNodeData.next=null}if(i===start){if(startNodeData=currentNodeData,currentNodeData.previous)previous=currentNodeData.previous;currentNodeData.previous=null;break}}currentNodeData=currentNodeData.previous,i--}}if(previous)previous.next=next;else currentListData.first=next;if(next)next.previous=previous;else currentListData.last=previous;if(currentListData.length-=rangeLength,targetListData.length===0)return targetListData.first=startNodeData,targetListData.last=endNodeData,targetListData.length+=rangeLength,targetListData.list;let targetNodeData=null,append=!1;if(target===0)targetNodeData=targetListData.first;else if(target>=targetListData.length-1){if(targetNodeData=targetListData.last,target===targetListData.length)append=!0}else if(target<=targetListData.length>>>1){currentNodeData=targetListData.first,i=0;while(currentNodeData){if(i===target){targetNodeData=currentNodeData;break}currentNodeData=currentNodeData.next,i++}}else{currentNodeData=targetListData.last,i=targetListData.length-1;while(currentNodeData){if(i===target){targetNodeData=currentNodeData;break}currentNodeData=currentNodeData.previous,i--}}if(append){if(targetNodeData.next)targetNodeData.next.previous=endNodeData;else targetListData.last=endNodeData;startNodeData.previous=targetNodeData,endNodeData.next=targetNodeData.next,targetNodeData.next=startNodeData}else{if(targetNodeData.previous)targetNodeData.previous.next=startNodeData;else targetListData.first=startNodeData;startNodeData.previous=targetNodeData.previous,endNodeData.next=targetNodeData,targetNodeData.previous=endNodeData}return targetListData.length+=rangeLength,targetListData.list}fill(value){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(listData.length===0)return this;let nodeData=listData.first;while(nodeData)nodeData.node.value=value,nodeData=nodeData.next;return this}reverse(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(listData.length===0)return this;let nodeData=listData.first;while(nodeData){let{previous,next}=nodeData;nodeData.previous=next,nodeData.next=previous,nodeData=next}let{first,last}=listData;return listData.first=last,listData.last=first,this}copyWithin(start=0,end=0,target=0,targetEnd=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let listData=this.#data;if(start>>=0,start<0||start>listData.length-1)throw new RangeError(`start argument (${start}) is not greater than or equal to 0 and less than this.length() (${listData.length})`);if(end>>=0,end<0||end>listData.length-1)throw new RangeError(`end argument (${end}) is not greater than or equal to 0 and less than this.length() (${listData.length})`);if(target>>=0,target<0||target>listData.length-1)throw new RangeError(`target argument (${target}) is not greater than or equal to 0 and less than this.length() (${listData.length})`);if(end<start){let _end=end;end=start,start=_end}if(targetEnd=!!targetEnd,start===target&&targetEnd===!1)return this;else if(end===target&&targetEnd===!0)return this;let currentNodeData,targetNodeData,i;if(target===0)targetNodeData=listData.first;else if(target===listData.length-1)targetNodeData=listData.last;else if(target<listData.length>>>1){currentNodeData=listData.first.next,i=1;while(currentNodeData){if(i===target){targetNodeData=currentNodeData;break}currentNodeData=currentNodeData.next,i++}}else{currentNodeData=listData.last.previous,i=listData.length-2;while(currentNodeData){if(i===target){targetNodeData=currentNodeData;break}currentNodeData=currentNodeData.previous,i--}}let values=[],range=end-start+1;if(start<listData.length-end-1){currentNodeData=listData.first,i=0;while(currentNodeData){if(i>=start&&i<=end){if(values.push(currentNodeData.node.value),values.length===range)break}currentNodeData=currentNodeData.next,i++}}else{currentNodeData=listData.last,i=listData.length-1;while(currentNodeData){if(i>=start&&i<=end){if(values.unshift(currentNodeData.node.value),values.length===range)break}currentNodeData=currentNodeData.previous,i--}}if(targetEnd===!0)i=values.length-1;else i=0;while(targetNodeData){if(targetNodeData.node.value=values[i],targetEnd)targetNodeData=targetNodeData.previous,i--;else targetNodeData=targetNodeData.next,i++;if(i<0||i>values.length-1)break}return this}sort(callback){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback (${typeof callback} is not a function)`);let listData=this.#data;if(listData.length<=1)return this;let currentNodeData=listData.first.next;while(currentNodeData){let nextNodeData=currentNodeData.next;while(currentNodeData.previous!==null&&callback(currentNodeData.previous.node,currentNodeData.node)>0){let previousPreviousNodeData=currentNodeData.previous.previous,previousNodeData=currentNodeData.previous,nextNodeData2=currentNodeData.next;if(listData.first===previousNodeData)listData.first=currentNodeData;if(listData.last===currentNodeData)listData.last=previousNodeData;if(previousPreviousNodeData!==null)previousPreviousNodeData.next=currentNodeData;if(currentNodeData.previous=previousPreviousNodeData,currentNodeData.next=previousNodeData,previousNodeData.previous=currentNodeData,previousNodeData.next=nextNodeData2,nextNodeData2!==null)nextNodeData2.previous=previousNodeData}currentNodeData=nextNodeData}return this}flat(depth=1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(depth>>=0,depth<1)throw new RangeError(`depth argument (${depth}) is not greater than 0`);let i=0,stack=[];stack.unshift({nodeData:this.#data.first});callStack:while(stack.length>0){let data=stack[0],{nodeData}=data;while(nodeData){if(data.nodeData=nodeData.next,nodeData.node.value instanceof List&&stack.length<=depth){stack.unshift({nodeData:nodeData.node.value.#data.first});continue callStack}else if(++i>List.maxLength)throw new RangeError(`this.length() (${i}) would exceed List.maxLength (16777216)`);nodeData=data.nodeData}stack.shift()}stack.unshift({nodeData:this.#data.first});callStack:while(stack.length>0){let{nodeData}=stack[0];while(nodeData){if(nodeData.node.value instanceof List&&stack.length<=depth){stack.unshift({nodeData:nodeData.node.value.#data.first});continue callStack}else if(stack.length>1)if(stack[stack.length-1].nodeData.node.value instanceof List)stack[stack.length-1].nodeData.node.value=nodeData.node.value;else new ListNode(nodeData.node.value,stack[stack.length-1].nodeData.node,!0),stack[stack.length-1].nodeData=stack[stack.length-1].nodeData.next;nodeData=stack[0].nodeData=nodeData.next}if(stack.shift(),stack.length>0)stack[0].nodeData=stack[0].nodeData.next}return this}slice(start=0,end=this.#data.length-1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(start>>=0,start<0||start>currentListData.length-1)throw new RangeError(`start argument (${start}) is not greater than or equal to 0 and less than this.length() (${currentListData.length})`);if(end>>=0,end<0||end>currentListData.length-1)throw new RangeError(`end argument (${end}) is not greater than or equal to 0 and less than this.length() (${currentListData.length})`);if(new List,currentListData.length===0)return privateListData.list;if(end<start){let _end=end;end=start,start=_end}let currentNodeData=null,i;if(start<currentListData.length-end-1){currentNodeData=currentListData.first,i=0;while(currentNodeData){if(i>=start&&i<=end){new ListNode(currentNodeData.node.value),privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData,currentNodeData=currentNodeData.next,i++;break}currentNodeData=currentNodeData.next,i++}while(currentNodeData){if(i>=start&&i<=end){if(new ListNode(currentNodeData.node.value,privateListNodeData.node,!0),i===end)break}currentNodeData=currentNodeData.next,i++}}else{currentNodeData=currentListData.last,i=currentListData.length-1;while(currentNodeData){if(i>=start&&i<=end){new ListNode(currentNodeData.node.value),privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData,currentNodeData=currentNodeData.previous,i--;break}currentNodeData=currentNodeData.previous,i--}while(currentNodeData){if(i>=start&&i<=end){if(new ListNode(currentNodeData.node.value,privateListNodeData.node),i===start)break}currentNodeData=currentNodeData.previous,i--}}return privateListData.list}includes(value,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(currentListData.length===0)return!1;let nodeData=null,i;if(!!backwards===!0){nodeData=currentListData.last,i=currentListData.length-1;while(nodeData){if(nodeData.node.value===value)return!0;nodeData=nodeData.previous,i--}}else{nodeData=currentListData.first,i=0;while(nodeData){if(nodeData.node.value===value)return!0;nodeData=nodeData.next,i++}}return!1}indexOf(value,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(currentListData.length===0)return-1;let nodeData=null,i;if(!!backwards===!0)nodeData=currentListData.last,i=currentListData.length-1;else nodeData=currentListData.first,i=0;while(nodeData){if(nodeData.node.value===value)return i;if(backwards)nodeData=nodeData.previous,i--;else nodeData=nodeData.next,i++}return-1}find(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return null;let nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)return nodeData.node;nodeData=nodeData.previous,index--}}else{nodeData=currentListData.first,index=0;while(nodeData){if(callback.call(self,nodeData.node,index,this)===!0)return nodeData.node;nodeData=nodeData.next,index++}}return null}findIndex(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return-1;let nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)return index;nodeData=nodeData.previous,index--}}else{nodeData=currentListData.first,index=0;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)return index;nodeData=nodeData.next,index++}}return-1}some(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return!1;let nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)return!0;nodeData=nodeData.previous,index--}}else{nodeData=currentListData.first,index=0;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)return!0;nodeData=nodeData.next,index++}}return!1}every(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return!1;let nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)!==!0)return!1;nodeData=nodeData.previous,index--}}else{nodeData=currentListData.first,index=0;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)!==!0)return!1;nodeData=nodeData.next,index++}}return!0}reduce(callback,initialValue,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return initialValue;let nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData)initialValue=callback.call(self,initialValue,nodeData.node,index,this),nodeData=nodeData.previous,index--}else{nodeData=currentListData.first,index=0;while(nodeData)initialValue=callback.call(self,initialValue,nodeData.node,index,this),nodeData=nodeData.next,index++}return initialValue}filter(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return this;let nodeDataArray=[],nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)nodeDataArray.push(nodeData);nodeData=nodeData.previous,index--}}else{nodeData=currentListData.first,index=0;while(nodeData){if(!!callback.call(self,nodeData.node,index,this)===!0)nodeDataArray.push(nodeData);nodeData=nodeData.next,index++}}for(let nodeData2 of nodeDataArray){if(nodeData2.previous)nodeData2.previous.next=nodeData2.next;else nodeData2.listData.first=nodeData2.next;if(nodeData2.next)nodeData2.next.previous=nodeData2.previous;else nodeData2.listData.last=nodeData2.previous;nodeData2.previous=null,nodeData2.next=null,nodeData2.listData=null,currentListData.length--}return this}map(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return this;let values=[],nodeData=null,index;if(!!backwards===!0){nodeData=currentListData.last,index=currentListData.length-1;while(nodeData)values.push(callback.call(self,nodeData.node,index,this)),nodeData=nodeData.previous,index--}else{nodeData=currentListData.first,index=0;while(nodeData)values.push(callback.call(self,nodeData.node,index,this)),nodeData=nodeData.next,index++}nodeData=currentListData.first,index=0;while(nodeData)nodeData.node.value=values[index],nodeData=nodeData.next,index++;return this}forEach(callback,self=null,backwards=!1){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}if(typeof callback!=="function")throw new TypeError(`callback argument (${typeof callback}) is not a function`);let currentListData=this.#data;if(currentListData.length===0)return this;let nodeData=null,index;if(!!backwards===!0)nodeData=currentListData.last,index=currentListData.length-1;else nodeData=currentListData.first,index=0;while(nodeData)if(callback.call(self,nodeData.node,index,this),backwards)nodeData=nodeData.previous,index--;else nodeData=nodeData.next,index++;return this}concat(...values){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let length=this.#data.length;if(length+values.length===0)return new List;else if(length+values.length>List.maxLength)throw new RangeError(`the new list length (${length+values.length}) would exceed List.maxLength (16777216)`);for(let value of values)if(value instanceof List)length+=value.#data.length;else length++;if(length>List.maxLength)throw new RangeError(`the new list length (${length}) would exceed List.maxLength (16777216)`);let nodeData=null;if(privateListData=null,privateListNodeData=null,this.#data.length>0){nodeData=this.#data.first,new ListNode(nodeData.node.value),nodeData=nodeData.next;while(nodeData)new ListNode(nodeData.node.value,privateListNodeData.node,!0),nodeData=nodeData.next}if(values.length>0){let value=values[0];if(value instanceof List&&value.#data.length>0){nodeData=value.#data.first,new ListNode(nodeData.node.value,privateListNodeData?.node,!0),nodeData=nodeData.next;while(nodeData)new ListNode(nodeData.node.value,privateListNodeData.node,!0),nodeData=nodeData.next}else new ListNode(value,privateListNodeData?.node,!0);for(let i=1;i<values.length;i++)if(value=values[i],value instanceof List){nodeData=value.#data.first;while(nodeData)new ListNode(nodeData.node.value,privateListNodeData.node,!0),nodeData=nodeData.next}else new ListNode(value,privateListNodeData.node,!0)}if(privateListData===null)new List,privateListData.first=privateListData.last=privateListNodeData,privateListData.length=1,privateListNodeData.listData=privateListData;return privateListData.list}nodes(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(currentListData.length===0)return[];let array=new Array(currentListData.length),nodeData=this.#data.first,i=0;while(nodeData)array[i]=nodeData.node,nodeData=nodeData.next,i++;return array}values(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(currentListData.length===0)return[];let array=new Array(currentListData.length),nodeData=this.#data.first,i=0;while(nodeData)array[i]=nodeData.node.value,nodeData=nodeData.next,i++;return array}toString(){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data,listString="";if(currentListData.length===0)return listString;let value=currentListData.first.node.value;listString+=typeof value==="object"?Object.prototype.toString.call(value):value;let nodeData=currentListData.first.next,index=1;while(nodeData)value=nodeData.node.value,listString+=","+(typeof value==="object"?Object.prototype.toString.call(value):value),nodeData=nodeData.next,index++;return listString}[Symbol.iterator](){try{this.#data}catch(error){throw new TypeError(`this (${Object.prototype.toString.call(this)}) is not a List instance`)}let currentListData=this.#data;if(currentListData.length===0)return[][Symbol.iterator]();let array=new Array(currentListData.length),nodeData=this.#data.first,i=0;while(nodeData)array[i]=nodeData.node,nodeData=nodeData.next,i++;return array[Symbol.iterator]()}}Object.defineProperty(ListNode,Symbol.hasInstance,{configurable:!1,writable:!1,enumerable:!1,value:ListNode[Symbol.hasInstance]});Object.defineProperty(List,"maxLength",{configurable:!1,writable:!1,enumerable:!0,value:List.maxLength});Object.defineProperty(List,Symbol.hasInstance,{configurable:!1,writable:!1,enumerable:!1,value:List[Symbol.hasInstance]});var propertyNames=Object.getOwnPropertyNames(ListNode.prototype);propertyNames.push(...Object.getOwnPropertySymbols(ListNode.prototype));propertyNames.forEach((name)=>{let descriptor=Object.getOwnPropertyDescriptor(ListNode.prototype,name);if(descriptor.configurable=!1,descriptor.enumerable=typeof name==="string"?!0:!1,!descriptor.get&&!descriptor.set)descriptor.writable=!1;Object.defineProperty(ListNode.prototype,name,descriptor)});propertyNames=Object.getOwnPropertyNames(List.prototype);propertyNames.push(...Object.getOwnPropertySymbols(List.prototype));propertyNames.forEach((name)=>{let descriptor=Object.getOwnPropertyDescriptor(List.prototype,name);if(descriptor.configurable=!1,descriptor.enumerable=typeof name==="string"?!0:!1,!descriptor.get&&!descriptor.set)descriptor.writable=!1;Object.defineProperty(List.prototype,name,descriptor)});export{ListNode,List};
